<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.2.xsd">

  <form name="product-form" title="Product" model="com.axelor.gst.db.Product">
    <panel title="Product Detail" name="productDetailPanel">
      <field name="image" colSpan="4" showTitle="false"/>
      <field name="code" colSpan="4" />
      <field name="name" colSpan="4" />
      <field name="hsbn" colSpan="4"  colOffset="4"/>
      <field name="category" colSpan="4"
        onChange="action-record-set-product-gstrate" />
    </panel>
    <panel title="Product Price" name="productPricePanel">
      <field name="salePrice" colSpan="4" />
      <field name="costPrice" colSpan="4" />
      <field name="gstRate" colSpan="4" />
    </panel>
  </form>

  <grid name="product-grid" title="Products" model="com.axelor.gst.db.Product"
    edit-icon="true">
    <toolbar>
    <button name="createInvoiceBtn" title="Create invoice" icon="fa-print"/>
    <button name="printBtn" title="Print" icon="fa-print"/>
    </toolbar>
    <field name="code" />
    <field name="name" />
    <field name="hsbn" />
    <field name="category" />
    <field name="salePrice" />
    <field name="costPrice" />
    <field name="image" />
    <field name="gstRate" />
  </grid>

  <cards name="product-cards" title="Products" model="com.axelor.gst.db.Product">
    <field name="name" />
    <field name="code" />
    <field name="hsbn" />
    <field name="category" />
    <field name="hasImage" />
    <template><![CDATA[
      <div class="span4 card-image">
        <img ng-if="hasImage" ng-src="{{$image(null, 'image')}}">
        <img ng-if="!hasImage" src="img/user.png">
        <strong>{{name}}</strong>
      </div>
      <div class="span8">
          <span ng-if="name" title="Name">Name:</span> {{name}}<br>
          <span ng-if="code" title="Code">Code:</span> {{code}}<br>
          <span ng-if="category" title="Category">Category:</span> {{category.name}}<br>
          <span ng-if="hsbn" title="Hsbn">HSBN:</span> {{hsbn}}<br>
      </div>
    ]]></template>
  </cards>

  <action-record name="action-record-set-product-gstrate" model="com.axelor.gst.db.Product">
  <field name="gstRate" expr="eval:category.gstRate"/>
  </action-record>

</object-views>
